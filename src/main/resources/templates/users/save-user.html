<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <div th:replace="~{fragments/main-menu}"></div>
    <!-- bÅ‚edy formularza -->

    <form
      th:action="${user!=null && user.getId()!=null ? '/user/update/'+ user.getId(): '/user/save' }"
      method="post"
    >
      <input
        name="firstName"
        placeholder="User name"
        th:value="${user!=null ? user.getFirstName(): ''}"
      />
      <input
        name="lastName"
        placeholder="User surname"
        th:value="${user!=null ? user.getLastName(): ''}"
      />
      <input
        type="email"
        name="email"
        placeholder="User email"
        th:value="${user!=null ? user.getEmail(): ''}"
      />
      <input
      type="password"
      name="password"
      placeholder="User password"
      th:value="${user!=null ? user.getPassword(): ''}"
    />
      <!-- addres  edycja -->
      <div th:if="${user!=null && user.getAdress()!=null}">
        <div th:each="addres : ${user.getAdress()}">
          <input
            name="zipCode"
            placeholder="ZipCode"
            th:value="${addres.getZipCode()}"
          />
          <input
            name="street"
            placeholder="Street"
            th:value="${addres.getStreet()}"
          />
          <input
            name="city"
            placeholder="City"
            th:value="${addres.getCity()}"
          />
        </div>
      </div>
      <!-- addres insert -->
      <div th:if="${user==null}">
        <input name="zipCode" placeholder="ZipCode" />
        <input name="street" placeholder="Street" />
        <input name="city" placeholder="City" />
      </div>

      <!-- phones -->
      <div th:if="${user!=null && user.getPhoneNumber()!=null}">
        <div th:each="phone :${user.getPhoneNumber()} ">
          <input
            name="prefix"
            placeholder="prefix"
            th:value="${phone.getPrefix()}"
          />
          <input
            name="phone"
            placeholder="phone number"
            th:value="${phone.getPhone()}"
          />
        </div>
      </div>
      <!-- phones -->
      <div th:if="${user==null}">
          <input
            name="prefix"
            placeholder="prefix"
          />
          <input
            name="phone"
            placeholder="phone number"
          />
        </div>
      </div>
      <button>Save</button>
    </form>
  </body>
</html>
